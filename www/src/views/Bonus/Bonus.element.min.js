var WtcBonus=Ractive.extend({oninit:function(){console.log("Bonus.oninit !"),$(".__nano").nanoScroller(),$("input, select").styler({selectSearch:!1}),$("#ex21").bootstrapSlider(),bonus_tab&&ractiveComponent["wtc-BonusApp"].set("tab",bonus_tab),ractiveComponent["wtc-BonusApp"].set("MyProfile",MyProfile),Messenger.finance.callback_save(function(e,t,o,n){e&&0!=e.length||(e=!1),ractiveComponent["wtc-BonusApp"].set("finance_cards",e),n&&(ractiveComponent["wtc-BonusApp"].set("wallets",n.wallet),ractiveComponent["wtc-BonusApp"].set("finance_cards_load",!0))})},onrender:function(){console.log("Bonus.onrender !")},oncomplete:function(){console.log("Bonus.oncomplete !")}});ractiveComponent["wtc-BonusApp"].on("moderate",function(e,t){if(swal({customClass:"swal-telegraf-modal select-form text-center",title:"",closeOnConfirm:!1,showConfirmButton:!0,showCancelButton:!1,showLoaderOnConfirm:!0,text:_chat_e("Может занять несколько секунд"),preConfirm:function(){return new Promise(function(e,t){setTimeout(function(){e()},3e3)})}}),swal.showLoading(),"iOS"!=paramSocket.device_platform_type&&"ios"!=paramSocket.device_platform_type&&"Android"!=paramSocket.device_platform_type&&"android"!=paramSocket.device_platform_type)return swal({customClass:"swal-telegraf-modal select-form text-center",buttonsStyling:!1,confirmButtonClass:"button-n",cancelButtonClass:"cansel-btns",title:_chat_e("Уппс..."),type:"error",confirmButtonText:_chat_e("Ок"),showCancelButton:!1,text:_chat_e("Данное  заданние нужно выполнить с устройства под управлением iOS или Android")});API("review_bonus",{device_platform:paramSocket.device_platform,device_platform_type:paramSocket.device_platform_type,device_browser:paramSocket.device_browser,device_uuid:paramSocket.device_uuid,device_model:paramSocket.device_model,version_app:paramSocket.version_app},!1,function(e){return localStorage.setItem("review_bonus",(new Date).getTime()+2592e6),e.success?swal({customClass:"swal-telegraf-modal select-form text-center",buttonsStyling:!1,confirmButtonClass:"button-n",cancelButtonClass:"cansel-btns",title:_chat_e("Успех"),type:"success",confirmButtonText:_chat_e("Ок"),showCancelButton:!1,text:_chat_e("Бонус будет зачислен на счет в течение 48 часов.")}):("wait_check"==e.error&&(e.error=_chat_e("Вы уже запросили получение бонуса")),swal({customClass:"swal-telegraf-modal select-form text-center",buttonsStyling:!1,confirmButtonClass:"button-n",cancelButtonClass:"cansel-btns",title:_chat_e("Уппс..."),type:"error",confirmButtonText:_chat_e("Ок"),showCancelButton:!1,text:e.error}))},!0)}),ractiveComponent["wtc-BonusApp"].on("openToggle",function(e,t){if("add_share"==t){if(bonus_brouser&&"function"==typeof bonus_brouser&&MyProfile)return bonus_brouser&&bonus_brouser(MyProfile.webtransfer_id);setTimeout(function(){if(bonus_brouser&&"function"==typeof bonus_brouser&&MyProfile)return bonus_brouser&&bonus_brouser(MyProfile.webtransfer_id);swal({title:_chat_e("Добавить партнера"),customClass:"swal-telegraf-modal",buttonsStyling:!1,confirmButtonClass:"button-n",cancelButtonClass:"cansel-btns",confirmButtonText:_chat_e("Поделиться"),cancelButtonText:_chat_e("Закрыть"),showCancelButton:!0,html:_chat_e("Ваша реферальная ссылка: ")+'<br><div class="select-form"><input class="form-control" value="https://telegraf.money/?ref='+MyProfile.webtransfer_id+'" ></div><br>'+_chat_e("Приглашайте ваших друзей в Telegraf.Money и получайте по $50 кредитным бонусом на вашу карту за каждого из них. Ваши друзья также получат по $50, зарегистрировавшись по вашей ссылке.")}).then(function(){Messenger.share()})},10)}else $("body .guarantee-wrapper .credit-main-area .toggle .body-"+t).toggle("")}),ractiveComponent["wtc-BonusApp"].set("tab",bonus_tab);