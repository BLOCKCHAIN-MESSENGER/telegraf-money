var WtcCards=Ractive.extend({data:function(){return{}},oninit:function(){console.log("cards.oninit !"),ractiveComponent["wtc-CardsApp"].set("MyProfile",MyProfile)},onrender:function(){console.log("cards.onrender !")},oncomplete:function(){console.log("cards.oncomplete !")}}),show_info=0;Messenger.finance.callback_save(function(t,e,n){ractiveComponent["wtc-CardsApp"].set("finance_cards",t),n&&ractiveComponent["wtc-CardsApp"].set("finance_cards_ALL",n),ractiveComponent["wtc-CardsApp"].set("finance_cards_load",!0),$(".__nano").nanoScroller()}),ractiveComponent["wtc-CardsApp"].on("openCard",function(t,e){Messenger.event.openCard(e)}),ractiveComponent["wtc-CardsApp"].on("activeCard",function(t,e){"virtual"==e?Messenger.setPage("order"):(swal({customClass:"swal-telegraf-modal select-form text-center",title:_chat_e("Активация карты..."),closeOnConfirm:!1,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0,showCancelButton:!1,showLoaderOnConfirm:!0,text:_chat_e("Активация карты может занять несколько минут"),preConfirm:function(){return new Promise(function(t,e){setTimeout(function(){t()},3e4)})}}),swal.showLoading(),API("activate_card",{card_id:e},function(t){t.error?swal({customClass:"swal-telegraf-modal select-form text-center",buttonsStyling:!1,confirmButtonClass:"button-n",cancelButtonClass:"cansel-btns",title:_chat_e("Ошибка активации карты"),type:"error",confirmButtonText:_chat_e("Ок"),showCancelButton:!1,text:t.error}):(swal({customClass:"swal-telegraf-modal select-form text-center",buttonsStyling:!1,confirmButtonClass:"button-n",cancelButtonClass:"cansel-btns",title:_chat_e("Успех"),type:"success",confirmButtonText:_chat_e("Ок"),showCancelButton:!1,text:_chat_e("Вы успешно активировали карту:")+e}),Messenger.finance.update())},!0))}),$(document).mouseup(function(t){var e=$(".stz");0===e.has(t.target).length&&e.hide()});