var WtcDialogs=Ractive.extend({oninit:function(){var e=localStorage.getItem("threads");if(e)try{ractiveComponent["wtc-DialogsApp"].set("threads",JSON.parse(e)),ractiveComponent["wtc-DialogsApp"].set("threads_finish",!0)}catch(e){}console.log("Dialogs.oninit !"),Messenger.auth_action.call_wait_auth(function(){Messenger.threads.callback_save("DialogsApp",function(e){ractiveComponent["wtc-DialogsApp"].set("threads",e),ractiveComponent["wtc-DialogsApp"].set("threads_finish",Messenger.threads.finish),$(".__nano").nanoScroller(),localStorage.setItem("threads",JSON.stringify(e))})}),$(".__nano").nanoScroller()},onrender:function(){console.log("Dialogs.onrender !")},oncomplete:function(){console.log("Dialogs.oncomplete !")}}),timeoutUpdate_threads=!1;ractiveComponent["wtc-DialogsApp"].on("errorAvatar",function(e,t){clearTimeout(Messenger.threads.update),Messenger.threads.data[t].avatar_path=!1,timeoutUpdate_threads=setTimeout(Messenger.threads.update,100)}),ractiveComponent["wtc-DialogsApp"].on("errorAvatarGroup",function(e,t){clearTimeout(Messenger.threads.update),Messenger.threads.data[t].group_photo=!1,timeoutUpdate_threads=setTimeout(Messenger.threads.update,100)}),ractiveComponent["wtc-DialogsApp"].on("openChats",function(e,t){Messenger.openChat(Messenger.threads.data[t])});